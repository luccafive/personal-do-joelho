<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Método Joelho Livre - Elimine a Dor no Joelho em 30 Dias</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Custom Styles and Animations with Boost Lab Design System -->
    <style>
        /* Design System Colors */
        :root {
            --primary-purple: #7B61FF;
            --dark-purple: #1B1325;
            --soft-violet: #B79EFF;
            --white: #FFFFFF;
            --gray-100: #F8F8F8;
            --gray-400: #BDBDBD;
            --black: #0D0D0D;
        }

        /* Applying the Inter font and base colors */
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--white);
            color: var(--black);
        }

        /* Fade-in on scroll animation */
        .fade-in-section {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s cubic-bezier(0.6, 0.2, 0.1, 1), transform 0.8s cubic-bezier(0.6, 0.2, 0.1, 1);
        }

        .fade-in-section.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Accordion icon transition */
        .accordion-summary::-webkit-details-marker {
            display: none;
        }
        .accordion-icon {
            transition: transform 0.3s ease;
        }
        details[open] .accordion-icon {
            transform: rotate(45deg);
        }

        /* Simple spinner for loading state */
        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border-left-color: var(--primary-purple);
            animation: spin 1s ease infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Scroll Progress Bar */
        #scroll-progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 5px;
            background: linear-gradient(to right, var(--primary-purple), var(--soft-violet));
            width: 0%;
            z-index: 100;
            transition: width 0.1s linear;
        }
    </style>
</head>
<body class="antialiased">

    <!-- Scroll Progress Bar Element -->
    <div id="scroll-progress-bar"></div>

    <!-- 0. Navigation Bar (Fixed) -->
    <header id="navbar" class="fixed top-0 left-0 right-0 z-50 bg-white/80 backdrop-blur-lg shadow-sm transition-all duration-300">
        <div class="container mx-auto px-6 py-3 flex justify-between items-center">
            <a href="#" class="text-xl font-bold text-[#0D0D0D]">Método Joelho Livre</a>
            
            <!-- Desktop Menu -->
            <nav class="hidden md:flex items-center space-x-6">
                <a href="#problema" class="text-[#0D0D0D] hover:text-[#7B61FF] transition-colors">A Causa</a>
                <a href="#solucao" class="text-[#0D0D0D] hover:text-[#7B61FF] transition-colors">A Solução</a>
                <a href="#ia-plan" class="text-[#0D0D0D] hover:text-[#7B61FF] transition-colors">Plano com IA</a>
                <a href="#oferta" class="text-[#0D0D0D] hover:text-[#7B61FF] transition-colors">A Oferta</a>
                <a href="#faq" class="text-[#0D0D0D] hover:text-[#7B61FF] transition-colors">FAQs</a>
            </nav>

            <a href="#oferta" class="hidden md:inline-block bg-[#7B61FF] text-white font-semibold px-5 py-2 rounded-lg hover:bg-opacity-90 transition-all duration-300 transform hover:scale-105">
                Ver Oferta Especial
            </a>

            <!-- Mobile Menu Button -->
            <button id="mobile-menu-button" class="md:hidden p-2 rounded-md text-[#0D0D0D] hover:bg-gray-100">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                </svg>
            </button>
        </div>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden px-6 pb-4 space-y-2 bg-white">
            <a href="#problema" class="block text-[#0D0D0D] hover:text-[#7B61FF] transition-colors py-2">A Causa</a>
            <a href="#solucao" class="block text-[#0D0D0D] hover:text-[#7B61FF] transition-colors py-2">A Solução</a>
            <a href="#ia-plan" class="block text-[#0D0D0D] hover:text-[#7B61FF] transition-colors py-2">Plano com IA</a>
            <a href="#oferta" class="block text-[#0D0D0D] hover:text-[#7B61FF] transition-colors py-2">A Oferta</a>
            <a href="#faq" class="block text-[#0D0D0D] hover:text-[#7B61FF] transition-colors py-2">FAQs</a>
            <a href="#oferta" class="block w-full text-center mt-2 bg-[#7B61FF] text-white font-semibold px-5 py-2 rounded-lg hover:bg-opacity-90 transition-all">
                Ver Oferta Especial
            </a>
        </div>
    </header>

    <main>
        <!-- 1. Modern Hero Section with Social Proof -->
        <section class="py-32 lg:py-40 bg-gray-100">
            <div class="container mx-auto px-6 text-center">
                <div class="mx-auto flex max-w-screen-lg flex-col gap-6 items-center">
                    <h1 class="text-4xl font-extrabold lg:text-6xl text-balance text-[#0D0D0D]">
                        Elimine as Dores do Seu Joelho em 30 Dias
                    </h1>
                    <p class="text-lg text-balance text-black/70 lg:text-xl">
                        Sem Cirurgia, Sem Remédios e Com um Plano Personalizado por IA.
                    </p>
                </div>
                <a href="#oferta" class="inline-block mt-10 bg-[#7B61FF] text-white font-bold text-lg text-center px-10 py-4 rounded-lg shadow-lg hover:bg-opacity-90 transition-all duration-300 transform hover:scale-105">
                    Quero Eliminar Minhas Dores Agora
                </a>
                <div class="mx-auto mt-12 flex w-fit flex-col items-center gap-4 sm:flex-row">
                    <div class="flex -space-x-4">
                        <img class="inline-block h-14 w-14 rounded-full ring-2 ring-white" src="https://images.unsplash.com/photo-1557862921-37829c790f19?q=80&w=2071&auto=format&fit=crop" alt="Avatar 1">
                        <img class="inline-block h-14 w-14 rounded-full ring-2 ring-white" src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?q=80&w=1887&auto=format&fit=crop" alt="Avatar 2">
                        <img class="inline-block h-14 w-14 rounded-full ring-2 ring-white" src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=1887&auto=format&fit=crop" alt="Avatar 3">
                        <img class="inline-block h-14 w-14 rounded-full ring-2 ring-white" src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?q=80&w=1887&auto=format&fit=crop" alt="Avatar 4">
                        <div class="h-14 w-14 rounded-full ring-2 ring-white bg-gray-200 flex items-center justify-center text-sm font-semibold text-gray-600">+1k</div>
                    </div>
                    <div class="text-left">
                        <div class="flex items-center gap-1">
                            <svg class="w-5 h-5 text-yellow-400 fill-current" viewBox="0 0 20 20"><path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"/></svg>
                            <svg class="w-5 h-5 text-yellow-400 fill-current" viewBox="0 0 20 20"><path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"/></svg>
                            <svg class="w-5 h-5 text-yellow-400 fill-current" viewBox="0 0 20 20"><path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"/></svg>
                            <svg class="w-5 h-5 text-yellow-400 fill-current" viewBox="0 0 20 20"><path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"/></svg>
                            <svg class="w-5 h-5 text-yellow-400 fill-current" viewBox="0 0 20 20"><path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"/></svg>
                        </div>
                        <p class="font-medium text-black/70">
                            Avaliado por mais de 1.000 clientes
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 2. Core Problem Section -->
        <section id="problema" class="py-20 bg-[#FFFFFF]">
            <div class="container mx-auto px-6">
                <div class="flex flex-col lg:flex-row items-center gap-12">
                    <div class="lg:w-1/2 fade-in-section">
                        <img src="https://images.unsplash.com/photo-1622599542098-751dc6a3b45a?q=80&w=1887&auto=format&fit=crop" onerror="this.onerror=null;this.src='https://placehold.co/600x500/fee2e2/b91c1c?text=Image+Error';" alt="Homem sênior com dor no joelho ao ar livre" class="rounded-2xl shadow-xl w-full h-full object-cover aspect-[6/5]">
                    </div>
                    <div class="lg:w-1/2 fade-in-section" style="animation-delay: 0.2s;">
                        <h2 class="text-3xl md:text-4xl font-extrabold text-[#0D0D0D] mb-6">A Verdadeira Causa das Suas Dores: <span class="text-[#7B61FF]">Atrofia de Sustentação</span></h2>
                        <p class="text-lg text-[#0D0D0D] mb-4">Você já se perguntou por que sua dor no joelho não passa? Por que fisioterapia, remédios e até infiltrações só funcionam por um tempo?</p>
                        <p class="text-lg text-[#0D0D0D] mb-4">O verdadeiro culpado tem nome: <strong>Atrofia de Sustentação</strong>. Quando os músculos ao redor do seu joelho ficam fracos, é como uma casa com pilares rachados. Toda a pressão do seu corpo vai direto para o osso. E isso dói. Muito.</p>
                        <ul class="list-disc list-inside text-lg text-[#0D0D0D] space-y-2">
                            <li>Sobe escadas e parece que o joelho vai "estalar".</li>
                            <li>Levanta da cadeira e precisa se apoiar em algo.</li>
                            <li>Fica muito tempo em pé e a dor aumenta.</li>
                            <li>Tenta agachar e sente aquela pontada.</li>
                        </ul>
                        <p class="mt-4 text-lg text-[#0D0D0D] font-semibold">A maioria dos profissionais trata apenas o sintoma. Não a causa real. Por isso a dor sempre volta.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 3. Opportunity/Solution Section -->
        <section id="solucao" class="py-20 bg-[#F8F8F8]">
            <div class="container mx-auto px-6">
                 <div class="flex flex-col lg:flex-row-reverse items-center gap-12">
                    <div class="lg:w-1/2 fade-in-section">
                        <img src="https://placehold.co/600x500/E9E6FF/7B61FF?text=Joelho+Saudável" alt="Ilustração de joelho saudável e forte" class="rounded-2xl shadow-xl">
                    </div>
                    <div class="lg:w-1/2 fade-in-section" style="animation-delay: 0.2s;">
                        <h2 class="text-3xl md:text-4xl font-extrabold text-[#0D0D0D] mb-6">Existe uma Forma <span class="text-[#7B61FF]">Específica</span> de Reverter Isso</h2>
                        <p class="text-lg text-[#0D0D0D] mb-4">A boa notícia é que seus músculos podem voltar a proteger seu joelho. Mas tem um detalhe que faz toda a diferença: <strong>cada região do joelho precisa de exercícios diferentes.</strong></p>
                        <p class="text-lg text-[#0D0D0D] mb-4">Dor na frente, atrás ou na lateral têm causas diferentes. É por isso que exercícios genéricos não funcionam. É como tentar abrir três fechaduras com a mesma chave.</p>
                        <p class="text-lg text-[#0D0D0D] mb-4">Quando você fortalece os músculos certos, na sequência certa, para sua dor específica... <strong>o joelho para de doer.</strong> Simples assim.</p>
                        <p class="text-lg text-[#0D0D0D] font-semibold">Imagine acordar amanhã e subir escadas correndo, agachar sem medo e caminhar sem dor. Isso não é sonho. É o que acontece quando você trata a causa real.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- NEW: AI Plan Generator Section -->
        <section id="ia-plan" class="py-20 bg-[#FFFFFF]">
            <div class="container mx-auto px-6 max-w-3xl">
                <div class="text-center mb-12">
                    <h2 class="fade-in-section text-4xl font-extrabold text-[#0D0D0D]">Receba seu Plano de Recuperação Personalizado com IA</h2>
                    <p class="fade-in-section text-lg text-[#0D0D0D] mt-2">Responda 3 perguntas rápidas e nossa IA criará um plano inicial de exercícios para você. Gratuito e instantâneo.</p>
                </div>

                <div class="fade-in-section bg-white p-8 rounded-2xl shadow-2xl border border-[#BDBDBD]">
                    <div class="space-y-6" id="ai-form">
                        <div>
                            <label for="pain-location" class="block text-lg font-semibold text-[#0D0D0D] mb-2">1. Onde dói o seu joelho?</label>
                            <select id="pain-location" class="w-full p-3 border border-[#BDBDBD] rounded-lg bg-white">
                                <option value="na frente do joelho (patelar)">Na frente do joelho (patelar)</option>
                                <option value="atrás do joelho">Atrás do joelho</option>
                                <option value="na lateral interna do joelho">Na lateral interna do joelho</option>
                                <option value="na lateral externa do joelho">Na lateral externa do joelho</option>
                            </select>
                        </div>
                        <div>
                            <label for="pain-level" class="block text-lg font-semibold text-[#0D0D0D] mb-2">2. Qual o seu nível de dor (de 0 a 10)?</label>
                            <input type="range" id="pain-level" min="0" max="10" value="5" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                            <div class="text-center mt-1 font-semibold text-[#7B61FF]"><span id="pain-level-value">5</span>/10</div>
                        </div>
                        <div>
                            <label for="user-goal" class="block text-lg font-semibold text-[#0D0D0D] mb-2">3. Qual seu principal objetivo?</label>
                            <input type="text" id="user-goal" class="w-full p-3 border border-[#BDBDBD] rounded-lg" placeholder="Ex: Voltar a caminhar sem dor, jogar com meus netos...">
                        </div>
                        <button id="generate-plan-btn" class="w-full bg-[#7B61FF] text-white font-bold text-lg text-center px-10 py-4 rounded-lg shadow-lg hover:bg-opacity-90 transition-all duration-300 transform hover:scale-105 flex items-center justify-center">
                            <span id="btn-text">✨ Gerar Meu Plano Gratuito</span>
                            <div id="btn-spinner" class="spinner hidden"></div>
                        </button>
                    </div>

                    <div id="ai-response-container" class="mt-8 hidden">
                        <h3 class="text-2xl font-bold text-[#0D0D0D] mb-4">Seu Plano de Recuperação Inicial:</h3>
                        <div id="ai-response" class="prose lg:prose-lg max-w-none text-[#0D0D0D]"></div>
                        
                        <!-- TTS Controls -->
                        <div id="tts-controls" class="mt-6 text-center hidden">
                            <button id="listen-btn" class="bg-[#B79EFF] text-[#1B1325] font-semibold px-6 py-3 rounded-lg hover:bg-opacity-90 transition-all flex items-center justify-center mx-auto disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                                <svg id="play-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd" />
                                </svg>
                                <svg id="pause-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2 hidden" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h1a1 1 0 001-1V8a1 1 0 00-1-1H8zm3 0a1 1 0 00-1 1v4a1 1 0 001 1h1a1 1 0 001-1V8a1 1 0 00-1-1h-1z" clip-rule="evenodd" />
                                </svg>
                                <span id="listen-btn-text">Ouvir o Plano</span>
                                <div id="listen-spinner" class="spinner ml-2" style="width: 20px; height: 20px; border-width: 2px;"></div>
                            </button>
                        </div>
                        <audio id="audio-player" class="hidden"></audio>

                         <p class="mt-6 text-sm text-center text-[#0D0D0D] opacity-75 bg-violet-100 p-3 rounded-lg">
                            <strong>Atenção:</strong> Este é um plano inicial gerado por IA. Para resultados completos e seguros, siga o <strong>Método Joelho Livre</strong> completo.
                        </p>
                    </div>
                </div>
            </div>
        </section>


        <!-- 4. How It Works Section -->
        <section id="como-funciona" class="py-20 bg-[#F8F8F8]">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="fade-in-section text-4xl font-extrabold text-[#0D0D0D]">Como Funciona o Método Joelho Livre</h2>
                    <p class="fade-in-section text-lg text-[#0D0D0D] mt-2 max-w-2xl mx-auto">Tratamos a causa, não o sintoma, com um processo de 4 passos simples e eficazes.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 text-center">
                    <!-- Step 1 -->
                    <div class="fade-in-section">
                        <div class="bg-violet-100 text-[#7B61FF] rounded-full h-16 w-16 flex items-center justify-center mx-auto mb-4 text-2xl font-bold">1</div>
                        <h3 class="text-xl font-bold mb-2">Identificação da Dor</h3>
                        <p class="text-[#0D0D0D]">Com um teste simples, descobrimos a região exata da sua dor para criar um plano personalizado.</p>
                    </div>
                    <!-- Step 2 -->
                    <div class="fade-in-section" style="animation-delay: 0.1s;">
                        <div class="bg-violet-100 text-[#7B61FF] rounded-full h-16 w-16 flex items-center justify-center mx-auto mb-4 text-2xl font-bold">2</div>
                        <h3 class="text-xl font-bold mb-2">Exercícios Direcionados</h3>
                        <p class="text-[#0D0D0D]">Você recebe vídeo-aulas com movimentos específicos para fortalecer a área exata que precisa de suporte.</p>
                    </div>
                    <!-- Step 3 -->
                    <div class="fade-in-section" style="animation-delay: 0.2s;">
                        <div class="bg-violet-100 text-[#7B61FF] rounded-full h-16 w-16 flex items-center justify-center mx-auto mb-4 text-2xl font-bold">3</div>
                        <h3 class="text-xl font-bold mb-2">Progressão Segura</h3>
                        <p class="text-[#0D0D0D]">Começamos devagar e aumentamos a intensidade conforme você melhora, sempre respeitando seu corpo.</p>
                    </div>
                    <!-- Step 4 -->
                    <div class="fade-in-section" style="animation-delay: 0.3s;">
                        <div class="bg-violet-100 text-[#7B61FF] rounded-full h-16 w-16 flex items-center justify-center mx-auto mb-4 text-2xl font-bold">4</div>
                        <h3 class="text-xl font-bold mb-2">Protocolo de Manutenção</h3>
                        <p class="text-[#0D0D0D]">Após o alívio, você aprende uma rotina simples para manter os resultados para sempre e prevenir novas lesões.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 5. Proof and Testimonials Section -->
        <section id="provas" class="py-20 bg-[#FFFFFF]">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="fade-in-section text-4xl font-extrabold text-[#0D0D0D]">Provas, Fatos e Resultados Reais</h2>
                    <p class="fade-in-section text-lg text-[#0D0D0D] mt-2">Não acredite apenas na minha palavra.</p>
                </div>
                <!-- Testimonials -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="fade-in-section bg-white p-8 rounded-2xl shadow-lg border border-[#BDBDBD]">
                        <div class="flex items-center mb-4">
                            <img src="https://placehold.co/64x64/B79EFF/1B1325?text=A" alt="Avatar de Ana Lúcia" class="w-16 h-16 rounded-full mr-4">
                            <div>
                                <h4 class="font-bold text-lg">Ana Lúcia, 52 anos</h4>
                                <p class="text-sm text-[#0D0D0D] opacity-75">São Paulo, Brasil</p>
                            </div>
                        </div>
                        <div class="flex text-[#7B61FF] mb-4">★★★★★</div>
                        <p class="text-[#0D0D0D] italic">"Pensei que nunca mais ia subir escadas. Com o Método Joelho Livre, em 3 semanas, a dor sumiu! É inacreditável!"</p>
                    </div>
                    <div class="fade-in-section bg-white p-8 rounded-2xl shadow-lg border border-[#BDBDBD]" style="animation-delay: 0.2s;">
                        <div class="flex items-center mb-4">
                            <img src="https://placehold.co/64x64/B79EFF/1B1325?text=R" alt="Avatar de Ricardo Silva" class="w-16 h-16 rounded-full mr-4">
                            <div>
                                <h4 class="font-bold text-lg">Ricardo Silva, 45 anos</h4>
                                <p class="text-sm text-[#0D0D0D] opacity-75">Rio de Janeiro, Brasil</p>
                            </div>
                        </div>
                        <div class="flex text-[#7B61FF] mb-4">★★★★★</div>
                        <p class="text-[#0D0D0D] italic">"Chega de remédios! O Eder me ensinou o que fazer e hoje jogo futebol com meus filhos sem sentir nada."</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 6. Origin Story Section -->
        <section id="historia" class="py-20 bg-[#F8F8F8]">
            <div class="container mx-auto px-6">
                <div class="flex flex-col lg:flex-row items-center gap-12">
                    <div class="lg:w-1/3 fade-in-section">
                        <img src="https://placehold.co/400x500/1B1325/ffffff?text=Eder" alt="Foto de Eder de Freitas Lima, criador do método" class="rounded-2xl shadow-xl w-full object-cover">
                    </div>
                    <div class="lg:w-2/3 fade-in-section" style="animation-delay: 0.2s;">
                        <h2 class="text-3xl md:text-4xl font-extrabold text-[#0D0D0D] mb-6">Eu sei exatamente o que você está passando...</h2>
                        <div class="space-y-4 text-lg text-[#0D0D0D]">
                            <p>Há 12 anos, eu era só mais um cara que adorava jogar futebol, até que uma dor no joelho mudou minha vida. No começo, ignorei. Mas a dor piorou. Subir escada virou um sacrifício. O médico foi direto: "Você vai precisar de cirurgia."</p>
                            <p>Cirurgia aos 28 anos? Me recusei a aceitar. Os anti-inflamatórios destruíram meu estômago e a dor continuava lá, me sentindo cada vez mais limitado e incapaz.</p>
                            <p>Foi quando um fisioterapeuta diferente me disse algo que mudou tudo: "Eder, o problema não é seu joelho. São os músculos ao redor dele que estão fracos."</p>
                            <p>Comecei a fazer exercícios específicos, direcionados. Em 3 semanas, a dor diminuiu pela metade. Em 2 meses, eu estava de volta ao futebol. Hoje, meu joelho está melhor do que antes.</p>
                            <p class="font-semibold text-[#0D0D0D]">Percebi que se funcionou comigo, poderia funcionar com outros. Fiz disso minha missão. Já são mais de mil pessoas que voltaram a viver sem limitações. Eu sei o seu caminho porque já trilhei ele antes.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 7. The Offer Section -->
        <section id="oferta" class="py-20 bg-[#FFFFFF]">
            <div class="container mx-auto px-6">
                <div class="max-w-4xl mx-auto bg-white rounded-2xl shadow-2xl p-8 md:p-12 border border-[#BDBDBD]">
                    <div class="text-center mb-10">
                        <h2 class="fade-in-section text-4xl font-extrabold text-[#0D0D0D]">O Que Você Recebe Hoje</h2>
                        <p class="fade-in-section text-lg text-[#0D0D0D] mt-2">Acesso completo ao sistema que vai eliminar suas dores.</p>
                    </div>

                    <!-- Value Stack -->
                    <div class="space-y-4 mb-10 fade-in-section text-[#0D0D0D]">
                        <div class="flex justify-between items-center bg-[#F8F8F8] p-4 rounded-lg border border-[#BDBDBD]"><span>✓ <strong>Módulo Principal Joelho Livre</strong> (Acesso Vitalício)</span> <span class="font-semibold">Valor: R$ 297</span></div>
                        <div class="flex justify-between items-center bg-[#F8F8F8] p-4 rounded-lg border border-[#BDBDBD]"><span>✓ <strong>Bônus 1:</strong> Guia de Receitas Anti-inflamatórias</span> <span class="font-semibold">Valor: R$ 67</span></div>
                        <div class="flex justify-between items-center bg-[#F8F8F8] p-4 rounded-lg border border-[#BDBDBD]"><span>✓ <strong>Bônus 2:</strong> Treino de Core Específico</span> <span class="font-semibold">Valor: R$ 47</span></div>
                        <div class="flex justify-between items-center bg-[#F8F8F8] p-4 rounded-lg border border-[#BDBDBD]"><span>✓ <strong>Bônus 3:</strong> Suporte VIP WhatsApp por 3 Dias</span> <span class="font-semibold">Valor: R$ 110</span></div>
                        <div class="flex justify-between items-center bg-violet-200 text-[#1B1325] p-4 rounded-lg text-lg">
                            <span class="font-bold">VALOR TOTAL</span>
                            <span class="font-extrabold line-through">R$ 521</span>
                        </div>
                    </div>

                    <!-- Price & Countdown -->
                    <div class="text-center fade-in-section">
                        <p class="text-lg text-[#0D0D0D]">Seu Investimento Hoje:</p>
                        <p class="text-6xl font-extrabold text-[#0D0D0D] my-2">R$ 97</p>
                        <p class="text-lg text-[#0D0D0D] mb-6">Ou 3x de R$ 32,33 sem juros</p>

                        <div class="bg-violet-100 border border-[#B79EFF] text-[#7B61FF] rounded-lg p-4 my-6">
                            <p class="font-bold">OFERTA ESPECIAL TERMINA EM:</p>
                            <div id="countdown" class="text-2xl font-bold tracking-widest"></div>
                            <p class="text-sm mt-2">Após o fim do cronômetro, o preço volta para R$ 297.</p>
                        </div>
                        
                        <a href="#" class="w-full bg-[#7B61FF] text-white font-bold text-xl text-center px-10 py-5 rounded-lg shadow-lg hover:bg-opacity-90 transition-all duration-300 transform hover:scale-105 inline-block">
                            SIM, QUERO ELIMINAR MINHAS DORES
                        </a>
                        <p class="text-sm text-[#0D0D0D] opacity-75 mt-4">Acesso imediato. Pagamento seguro via PIX ou Cartão de Crédito.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 8. Guarantee Section -->
        <section id="garantia" class="py-20 bg-[#F8F8F8]">
             <div class="container mx-auto px-6">
                <div class="flex flex-col lg:flex-row items-center gap-12 bg-white p-10 rounded-2xl shadow-xl border border-[#BDBDBD]">
                    <div class="lg:w-1/3 fade-in-section text-center">
                        <img src="https://placehold.co/200x200/B79EFF/1B1325?text=7+DIAS" alt="Selo de Garantia de 7 Dias" class="rounded-full mx-auto">
                    </div>
                    <div class="lg:w-2/3 fade-in-section" style="animation-delay: 0.2s;">
                        <h2 class="text-3xl md:text-4xl font-extrabold text-[#0D0D0D] mb-6">Garantia Incondicional de 7 Dias</h2>
                        <p class="text-lg text-[#0D0D0D] mb-4">Sei que você já tentou de tudo e pode estar desconfiado. Por isso, vou assumir todo o risco. Teste o Método Joelho Livre por 7 dias completos. Se por qualquer motivo você não gostar, basta me enviar um email e eu devolvo 100% do seu dinheiro.</p>
                        <p class="text-lg text-[#0D0D0D] font-semibold">Sem perguntas, sem burocracia, sem complicação. O risco é todo meu. Você não tem nada a perder, apenas suas dores no joelho.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 9. FAQ Section -->
        <section id="faq" class="py-20 bg-[#FFFFFF]">
            <div class="container mx-auto px-6 max-w-3xl">
                <div class="text-center mb-12">
                    <h2 class="fade-in-section text-4xl font-extrabold text-[#0D0D0D]">Perguntas Frequentes</h2>
                </div>
                <div class="space-y-4">
                    <details class="fade-in-section group bg-[#F8F8F8] p-6 rounded-lg shadow-sm border border-[#BDBDBD]">
                        <summary class="accordion-summary flex justify-between items-center font-semibold cursor-pointer text-lg">
                            O Método funciona para qualquer tipo de dor no joelho?
                            <span class="accordion-icon text-[#7B61FF] transform group-hover:scale-125">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" /></svg>
                            </span>
                        </summary>
                        <p class="text-[#0D0D0D] mt-4">Sim! Ele foi desenvolvido para atacar a causa raiz do desequilíbrio muscular que gera dor, independentemente da localização (frente, trás ou lateral) ou tempo que você sofre.</p>
                    </details>
                    <details class="fade-in-section group bg-[#F8F8F8] p-6 rounded-lg shadow-sm border border-[#BDBDBD]">
                        <summary class="accordion-summary flex justify-between items-center font-semibold cursor-pointer text-lg">
                            Preciso de equipamentos especiais?
                            <span class="accordion-icon text-[#7B61FF] transform group-hover:scale-125">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" /></svg>
                            </span>
                        </summary>
                        <p class="text-[#0D0D0D] mt-4">Não! O método é feito totalmente em casa, usando apenas o peso do corpo e, no máximo, objetos que você já tem, como uma cadeira ou garrafa de água.</p>
                    </details>
                    <details class="fade-in-section group bg-[#F8F8F8] p-6 rounded-lg shadow-sm border border-[#BDBDBD]">
                        <summary class="accordion-summary flex justify-between items-center font-semibold cursor-pointer text-lg">
                            Quanto tempo por dia preciso dedicar?
                            <span class="accordion-icon text-[#7B61FF] transform group-hover:scale-125">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" /></svg>
                            </span>
                        </summary>
                        <p class="text-[#0D0D0D] mt-4">Apenas 15 a 20 minutos diários são suficientes para você começar a sentir os resultados e progredir rumo à eliminação completa das dores.</p>
                    </details>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-[#1B1325] text-[#F8F8F8]">
        <div class="container mx-auto px-6 py-8 text-center md:flex md:justify-between md:items-center">
            <p>&copy; 2025 Método Joelho Livre. Todos os direitos reservados.</p>
            <div class="flex justify-center space-x-4 mt-4 md:mt-0">
                <a href="#" class="hover:text-white transition-colors">Instagram</a>
            </div>
        </div>
    </footer>

    <script>
        // --- Mobile Menu Toggle ---
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        // --- Navbar background on scroll ---
        const navbar = document.getElementById('navbar');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 20) {
                navbar.classList.add('shadow-md');
            } else {
                navbar.classList.remove('shadow-md');
            }
        });

        // --- Fade-in on Scroll Animation ---
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                }
            });
        }, {
            threshold: 0.1
        });
        const sections = document.querySelectorAll('.fade-in-section');
        sections.forEach(section => observer.observe(section));

        // --- Countdown Timer ---
        function startCountdown() {
            const countdownElement = document.getElementById('countdown');
            if (!countdownElement) return;

            const countdownEndDate = new Date();
            countdownEndDate.setDate(countdownEndDate.getDate() + 3);
            countdownEndDate.setHours(23, 59, 59, 999);

            const interval = setInterval(() => {
                const now = new Date().getTime();
                const distance = countdownEndDate - now;

                if (distance < 0) {
                    clearInterval(interval);
                    countdownElement.innerHTML = "OFERTA ENCERRADA";
                    return;
                }

                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                countdownElement.innerHTML = `${days}d ${hours}h ${minutes}m ${seconds}s`;
            }, 1000);
        }

        // --- Scroll Progress Bar Logic ---
        function updateScrollProgress() {
            const progressBar = document.getElementById('scroll-progress-bar');
            if (!progressBar) return;

            const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
            const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrollPercent = (scrollTop / scrollHeight) * 100;

            progressBar.style.width = scrollPercent + '%';
        }
        window.addEventListener('scroll', updateScrollProgress);
        
        // --- Gemini AI Plan Generator & TTS ---
        const painLevelSlider = document.getElementById('pain-level');
        const painLevelValue = document.getElementById('pain-level-value');
        const generateBtn = document.getElementById('generate-plan-btn');
        const btnText = document.getElementById('btn-text');
        const btnSpinner = document.getElementById('btn-spinner');
        const aiResponseContainer = document.getElementById('ai-response-container');
        const aiResponseEl = document.getElementById('ai-response');
        
        // TTS Elements
        const ttsControls = document.getElementById('tts-controls');
        const listenBtn = document.getElementById('listen-btn');
        const listenBtnText = document.getElementById('listen-btn-text');
        const listenSpinner = document.getElementById('listen-spinner');
        const audioPlayer = document.getElementById('audio-player');
        const playIcon = document.getElementById('play-icon');
        const pauseIcon = document.getElementById('pause-icon');

        // Update pain level display
        if(painLevelSlider) {
            painLevelSlider.addEventListener('input', () => {
                painLevelValue.textContent = painLevelSlider.value;
            });
        }

        // --- Helper to convert Base64 to ArrayBuffer ---
        function base64ToArrayBuffer(base64) {
            const binaryString = window.atob(base64);
            const len = binaryString.length;
            const bytes = new Uint8Array(len);
            for (let i = 0; i < len; i++) {
                bytes[i] = binaryString.charCodeAt(i);
            }
            return bytes.buffer;
        }

        // --- Helper to convert PCM to WAV ---
        function pcmToWav(pcmData, sampleRate) {
            const numChannels = 1;
            const bitsPerSample = 16;
            const blockAlign = (numChannels * bitsPerSample) / 8;
            const byteRate = sampleRate * blockAlign;
            const dataSize = pcmData.length * (bitsPerSample / 8);
            const buffer = new ArrayBuffer(44 + dataSize);
            const view = new DataView(buffer);

            // RIFF header
            writeString(view, 0, 'RIFF');
            view.setUint32(4, 36 + dataSize, true);
            writeString(view, 8, 'WAVE');
            // fmt chunk
            writeString(view, 12, 'fmt ');
            view.setUint32(16, 16, true);
            view.setUint16(20, 1, true); // PCM
            view.setUint16(22, numChannels, true);
            view.setUint32(24, sampleRate, true);
            view.setUint32(28, byteRate, true);
            view.setUint16(32, blockAlign, true);
            view.setUint16(34, bitsPerSample, true);
            // data chunk
            writeString(view, 36, 'data');
            view.setUint32(40, dataSize, true);

            // Write PCM data
            let offset = 44;
            for (let i = 0; i < pcmData.length; i++, offset += 2) {
                view.setInt16(offset, pcmData[i], true);
            }

            return new Blob([view], { type: 'audio/wav' });
        }

        function writeString(view, offset, string) {
            for (let i = 0; i < string.length; i++) {
                view.setUint8(offset + i, string.charCodeAt(i));
            }
        }

        // --- Generate Text Plan ---
        if(generateBtn) {
            generateBtn.addEventListener('click', async () => {
                const painLocation = document.getElementById('pain-location').value;
                const painLevel = painLevelSlider.value;
                const userGoal = document.getElementById('user-goal').value || 'viver sem dor';

                if (!painLocation) {
                    const painLocationEl = document.getElementById('pain-location');
                    painLocationEl.classList.add('border-red-500', 'ring-2', 'ring-red-200');
                    setTimeout(() => {
                        painLocationEl.classList.remove('border-red-500', 'ring-2', 'ring-red-200');
                    }, 2000);
                    return;
                }

                btnText.classList.add('hidden');
                btnSpinner.classList.remove('hidden');
                generateBtn.disabled = true;

                const prompt = `
                    Aja como um fisioterapeuta especialista em joelhos. Um paciente descreveu sua dor da seguinte forma:
                    - Local da dor: ${painLocation}
                    - Nível da dor: ${painLevel}/10
                    - Objetivo principal: ${userGoal}

                    Crie um plano de recuperação inicial simples e seguro para a primeira semana. O plano deve ser focado em exercícios de baixo impacto que podem ser feitos em casa sem equipamentos.
                    Apresente o plano em formato HTML simples, usando tags como <ul>, <li> e <strong>.
                    Inclua uma breve explicação do porquê esses exercícios são importantes para a condição descrita.
                    Finalize com uma nota de encorajamento e um aviso para procurar um profissional para um tratamento completo.
                    Não use markdown, apenas HTML.
                `;

                try {
                    let chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
                    const payload = { contents: chatHistory };
                    const apiKey = ""; // API key is injected by the environment
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
                    
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) throw new Error(`API error: ${response.statusText}`);

                    const result = await response.json();
                    
                    const text = result?.candidates?.[0]?.content?.parts?.[0]?.text;
                    if (!text) throw new Error("Resposta da IA inválida ou vazia.");

                    // Display the text response
                    aiResponseEl.innerHTML = text;
                    aiResponseContainer.classList.remove('hidden');
                    document.getElementById('ai-form').classList.add('hidden');

                    // Now, generate the audio
                    generateAndPlayAudio(aiResponseEl.innerText); // Use innerText for a clean audio prompt

                } catch (error) {
                    console.error('Error calling Gemini API for text:', error);
                    aiResponseEl.innerHTML = '<p class="text-red-500">Desculpe, não foi possível gerar seu plano no momento. Por favor, tente novamente mais tarde.</p>';
                    aiResponseContainer.classList.remove('hidden');
                    btnText.classList.remove('hidden');
                    btnSpinner.classList.add('hidden');
                    generateBtn.disabled = false;
                }
            });
        }

        // --- Generate and Handle Audio ---
        async function generateAndPlayAudio(textToSpeak) {
            ttsControls.classList.remove('hidden');
            listenSpinner.classList.remove('hidden');
            listenBtnText.innerText = 'Gerando Áudio...';
            
            try {
                const payload = {
                    contents: [{ parts: [{ text: textToSpeak }] }],
                    generationConfig: {
                        responseModalities: ["AUDIO"],
                        speechConfig: {
                            voiceConfig: { prebuiltVoiceConfig: { voiceName: "Kore" } }
                        }
                    },
                    model: "gemini-2.5-flash-preview-tts"
                };
                const apiKey = ""; // API key is injected by the environment
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-tts:generateContent?key=${apiKey}`;

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) throw new Error(`TTS API error: ${response.statusText}`);

                const result = await response.json();
                const part = result?.candidates?.[0]?.content?.parts?.[0];
                const audioData = part?.inlineData?.data;
                const mimeType = part?.inlineData?.mimeType;

                if (!audioData || !mimeType || !mimeType.startsWith("audio/")) {
                    throw new Error("Resposta de áudio da IA inválida.");
                }

                const sampleRateMatch = mimeType.match(/rate=(\d+)/);
                if (!sampleRateMatch) throw new Error("Não foi possível encontrar a taxa de amostragem no mimetype.");
                
                const sampleRate = parseInt(sampleRateMatch[1], 10);
                const pcmData = base64ToArrayBuffer(audioData);
                const pcm16 = new Int16Array(pcmData);
                const wavBlob = pcmToWav(pcm16, sampleRate);
                const audioUrl = URL.createObjectURL(wavBlob);
                
                audioPlayer.src = audioUrl;

                // Update UI
                listenBtn.disabled = false;
                listenSpinner.classList.add('hidden');
                listenBtnText.innerText = 'Ouvir o Plano';

            } catch (error) {
                console.error('Error calling Gemini TTS API:', error);
                listenBtnText.innerText = 'Erro no Áudio';
                listenSpinner.classList.add('hidden');
            }
        }

        // --- Audio Player Logic ---
        if(listenBtn) {
            listenBtn.addEventListener('click', () => {
                if (audioPlayer.paused) {
                    audioPlayer.play();
                } else {
                    audioPlayer.pause();
                }
            });

            audioPlayer.onplay = () => {
                playIcon.classList.add('hidden');
                pauseIcon.classList.remove('hidden');
                listenBtnText.innerText = 'Pausar';
            };

            audioPlayer.onpause = () => {
                playIcon.classList.remove('hidden');
                pauseIcon.classList.add('hidden');
                listenBtnText.innerText = 'Ouvir o Plano';
            };

            audioPlayer.onended = () => {
                playIcon.classList.remove('hidden');
                pauseIcon.classList.add('hidden');
                listenBtnText.innerText = 'Ouvir Novamente';
            };
        }

        // --- Initialize all JS functions on window load ---
        window.onload = function() {
            startCountdown();
        };

    </script>

</body>
</html>
